(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4191909a"],{"0c15":function(e,t,r){"use strict";var s=r("3e0d"),i=r.n(s);i.a},"3e0d":function(e,t,r){},e6d8:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addtest"},[r("div",{staticClass:"addtest-wrap"},[r("div",{staticClass:"addtest-title"},[e._v("添加考试")]),e._v(" "),r("div",{staticClass:"addtestboard"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"0"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"试题名称",prop:"title"}},[r("el-input",{staticClass:"testnameinp",model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"选择考试类型",prop:"exam_id"}},[r("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.exam_id,callback:function(t){e.$set(e.ruleForm,"exam_id",t)},expression:"ruleForm.exam_id"}},e._l(e.testType,function(e){return r("el-option",{key:e.exam_id,attrs:{label:e.exam_name,value:e.exam_id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"选择考试课程",prop:"subject_id"}},[r("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.subject_id,callback:function(t){e.$set(e.ruleForm,"subject_id",t)},expression:"ruleForm.subject_id"}},e._l(e.testClass,function(e){return r("el-option",{key:e.subject_id,attrs:{label:e.subject_text,value:e.subject_id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"设置题量",prop:"number"}},[r("el-input-number",{staticClass:".inpsize",attrs:{value:"","controls-position":"right",min:3,max:10},on:{change:e.handleChange},model:{value:e.ruleForm.number,callback:function(t){e.$set(e.ruleForm,"number",t)},expression:"ruleForm.number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"考试时间",required:""}},[r("div",{staticClass:"testtime"},[r("el-form-item",{attrs:{prop:"start_time"}},[r("el-date-picker",{staticClass:"inptime",attrs:{type:"datetime",placeholder:"开始时间","suffix-icon":"el-icon-date","default-time":"12:00:00"},model:{value:e.ruleForm.start_time,callback:function(t){e.$set(e.ruleForm,"start_time",t)},expression:"ruleForm.start_time"}})],1),e._v(" "),r("span",[e._v("-")]),e._v(" "),r("el-form-item",{attrs:{prop:"start_time"}},[r("el-date-picker",{staticClass:"inptime",attrs:{type:"datetime",placeholder:"结束时间","suffix-icon":"el-icon-date","default-time":"12:00:00"},model:{value:e.ruleForm.end_time,callback:function(t){e.$set(e.ruleForm,"end_time",t)},expression:"ruleForm.end_time"}})],1)],1)]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("创建试卷")])],1)],1)])])},i=[],a=r("cebc"),l=r("2f62"),n={data:function(){return{ruleForm:{title:"",exam_id:"",subject_id:"",number:"",start_time:"",end_time:""},rules:{title:[{required:!0,message:"请输入考试名称",trigger:"blur"}],exam_id:[{required:!0,message:"请选择考试类型",trigger:"change"}],subject_id:[{required:!0,message:"请选择考试课程",trigger:"change"}],number:[{required:!0,message:"请选择题量",trigger:"change"}],start_time:[{type:"date",required:!0,message:"请选择考试开始时间",trigger:"change"}],end_time:[{type:"date",required:!0,message:"请选择考试结束时间",trigger:"change"}]}}},computed:Object(a["a"])({},Object(l["d"])("testmanager",{testType:function(e){return e.testType},testClass:function(e){return e.testClass}})),methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.log("submit!"),t.createtest()})},resetForm:function(e){this.$refs[e].resetFields()},handleChange:function(e){},createtest:function(){var e=this.ruleForm,t=e.number,r=e.title,s=e.start_time,i=e.end_time,a=e.exam_id,l=e.subject_id;t&&r&&s&&i&&a&&l&&(this.$store.dispatch("testmanager/addtest",{number:t,title:r,start_time:1*s,end_time:1*i,exam_id:a,subject_id:l}),this.$router.push({path:"edittest"}))},gettestType:function(){this.$store.dispatch("testmanager/gettestType")},gettestClass:function(){this.$store.dispatch("testmanager/gettestClass")}},mounted:function(){this.gettestType(),this.gettestClass()}},u=n,o=(r("0c15"),r("2877")),m=Object(o["a"])(u,s,i,!1,null,null,null);t["default"]=m.exports}}]);